# Теория резервного копирования

[Назад к главному README](README.md)

## Логическое резервное копирование

- Это экспорт структуры и/или данных из базы данных в текстовый формат SQL (например, CREATE TABLE, INSERT INTO).
- Не копирует сами файлы базы данных, только данные и команды для их восстановления.

**Плюсы:**

- Универсальность — можно восстановить на другой версии MariaDB или MySQL.
- Подходит для частичного восстановления (отдельных таблиц, схем и т. д.).
- Удобно для миграций.

**Минусы:**

- Медленно на больших объёмах данных.
- Создаёт высокую нагрузку на сервер во время бэкапа.

**Инструменты:**

- `mysqldump` (начиная с MariaDB 10.5, клиент называется `mariadb-dump`, `mysqldump` - символической ссылки на `mariadb-dump`) — классический инструмент.
- `mariadb-dump` — программа для резервного копирования.
- `mydumper` — многопоточная альтернатива, быстрее и эффективнее.

## Физическое резервное копирование

- Это копирование файлов данных MariaDB напрямую с файловой системы (например, .ibd, .frm, .ib_logfile).
- Работает на уровне движка хранения (обычно InnoDB).

**Плюсы:**

- Очень быстро, особенно на больших базах.
- Поддержка инкрементальных и дифференциальных бэкапов.
- Минимальная нагрузка на MariaDB-сервер.

**Минусы:**

- Привязано к файловой системе, ОС, и версии MariaDB.
- Неудобно переносить между разными версиями или платформами.

**Инструменты:**

- `mariabackup` — официальный инструмент MariaDB (форк xtrabackup).
- `Percona XtraBackup` — популярный физический бэкап-менеджер (подходит и для MariaDB до версии 10.2–10.3).
- `LVM snapshot` — уровень ОС (для хранения consistent snapshot'ов).

## Сравнительная таблица
|Характеристика         |   Логическое          |   Физическое              |
|-----------------------|-----------------------|---------------------------|
|Уровень                |   SQL                 |   Файловая система        |
|Инструменты            |   mysqldump, mydumper |   mariabackup, xtrabackup |
|Скорость	            |   Медленнее	        |   Быстрее                 |
|Универсальность        |	Высокая             |   Низкая                  |
|Подходит для миграций  |   Да                  |   Нет                     |
|Инкрементальность      |	Нет                 |   Да                      |
|Нагрузка на сервер     |   Высокая             |	Низкая                  |

---

[Назад к главному README](README.md)
